<div class="col-md-6 mx-auto">
    <span class="anchor" id="formLogin"></span>
    <!-- form card login -->
    <div class="card shadow">
        <div class="card-body">
            <h4 class="card-title mb-4 mt-1">Bem-vindo à RainTI</h4>
            <hr />
            <label for="uname1">É um prazer te-lo conosco <b>{{_userData.firstname}} {{_userData.lastname}}</b>, confira seus dados e <br>crie sua senha de acesso.</label>
            <hr />
            <form class="form" #registerForm="ngForm">
                <div class="form-group">
                    <div class="row">
                        <div class="col-sm-6">
                            <label for="uname1">Nome</label>
                            <input type="text" [(ngModel)]="_userData.firstname" name="firstName"
                                class="form-control rounded-0" [class.is-invalid]="name.invalid && name.touched"
                                #name="ngModel" required>
                            <div class="md-errors-spacer" [hidden]="name.valid || name.untouched">
                                <small class="text-danger" *ngIf="name.errors && name.errors.required">
                                    nome obrigatório
                                </small>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label for="uname1">Sobrenome</label>
                            <input type="text" [(ngModel)]="_userData.lastname" name="lastName"
                                class="form-control rounded-0" [class.is-invalid]="lastName.invalid && lastName.touched"
                                #lastName="ngModel" required>
                            <div class="md-errors-spacer" [hidden]="lastName.valid || lastName.untouched">
                                <small class="text-danger" *ngIf="lastName.errors && lastName.errors.required">
                                    sobrenome obrigatório
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col">
                            <label for="uname1">CPF</label>
                            <input type="text" [(ngModel)]="_userData.cpf" name="cpf" class="form-control rounded-0"
                                pattern="^\d{3}\.\d{3}\.\d{3}(-\d{2})$" placeHolder="123.123.123-12"
                                [class.is-invalid]="cpf.invalid && cpf.touched" #cpf="ngModel" required>
                            <div class="md-errors-spacer" [hidden]="cpf.valid || cpf.untouched">
                                <small class="text-danger" *ngIf="cpf.errors && cpf.errors.required">
                                    CPF obrigatório
                                </small>
                                <small class="text-danger" *ngIf="cpf.errors && cpf.errors.pattern">
                                    CPF inválido (Ex.: 123.123.123-12)
                                </small>
                            </div>
                        </div>                        
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col">
                            <label for="uname1">Nome de usuário</label>
                            <input type="text" [(ngModel)]="_userData.username" name="username"
                                class="form-control rounded-0" [class.is-invalid]="username.invalid && username.touched"
                                #username="ngModel" required>
                            <div class="md-errors-spacer" [hidden]="username.valid || username.untouched">
                                <small class="text-danger" *ngIf="username.errors && username.errors.required">
                                    Nome de usuário obrigatória
                                </small>
                            </div>
                        </div>
                        <div class="col">
                            <label for="uname1">Matrícula</label>
                            <input type="text" [(ngModel)]="_userData.registration" name="registration"
                                class="form-control rounded-0"
                                [class.is-invalid]="registration.invalid && registration.touched"
                                #registration="ngModel" required>
                            <div class="md-errors-spacer" [hidden]="registration.valid || registration.untouched">
                                <small class="text-danger" *ngIf="registration.errors && registration.errors.required">
                                    Matrícula de usuário obrigatória
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">

                    <div class="row">
                        <div class="col-md-6">
                            <label for="uname1">E-mail</label>
                            <input #email="ngModel" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" type="text"
                                [(ngModel)]="_userData.email" name="email" class="form-control rounded-0"
                                [class.is-invalid]="email.invalid && email.touched" required>
                            <div class="md-errors-spacer" [hidden]="email.valid || email.untouched">
                                <small class="text-danger" *ngIf="email.errors && email.errors.required">
                                    e-mail obrigatório
                                </small>
                                <small class="text-danger" *ngIf="email.errors && email.errors.pattern">
                                    e-mail inválido
                                </small>
                            </div>
                        </div>

                        <div class="col-md-2">
                            <label for="uname1">DDD</label>
                            <input type="text" pattern="^([1-9]{2})" placeHolder="11" [(ngModel)]="_userData.ddd"
                                name="dddModel" class="form-control rounded-0"
                                [class.is-invalid]="dddModel.invalid && dddModel.touched" #dddModel="ngModel" required>
                            <div class="md-errors-spacer" [hidden]="dddModel.valid || dddModel.untouched">
                                <small class="text-danger" *ngIf="dddModel.errors && dddModel.errors.required">
                                    DDD obrigatório
                                </small>
                                <small class="text-danger"
                                    *ngIf="(dddModel.errors && dddModel.errors.pattern) || ddHasError">
                                    DDD inválido
                                </small>
                            </div>

                        </div>
                        <div class="col-md-4">
                            <label for="uname1">Telefone</label>
                            <input type="text" pattern="^([1-9]{1}[0-9]{3}|[1-9]{1}[0-9]{4})(-)([0-9]{4})"
                                placeHolder="1234-5678 ou 12345-6789" [(ngModel)]="_userData.phone" name="phone"
                                class="form-control rounded-0" [class.is-invalid]="phone.invalid && phone.touched"
                                #phone="ngModel" required>
                            <div class="md-errors-spacer" [hidden]="phone.valid || phone.untouched">
                                <small class="text-danger" *ngIf="phone.errors && phone.errors.required">
                                    Telefone obrigatório
                                </small>
                                <small class="text-danger" *ngIf="phone.errors && phone.errors.pattern">
                                    Formato inválido (Ex.: 1234-5678 ou 12345-6789)
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="form-group">
                    <label for="uname1">Código de verificação</label>
                 

                    
                        <div class="row">
                            <div class="col-md-1">
                                <input type="text" style="text-align: center;" maxlength="1"
                                    [(ngModel)]="_passwordData.resetCode1" name="resetCode1"
                                    class="form-control rounded-5 form-fixer"
                                    [class.is-invalid]="resetCode1.invalid && resetCode1.touched" #resetCode1="ngModel"
                                    required>
                            </div>
                            <div class="col-md-1">
                                <input type="text" (blur)="resetCode1.valid" style="text-align: center;" maxlength="1"
                                    [(ngModel)]="_passwordData.resetCode2" name="resetCode2"
                                    class="form-control rounded-5 form-fixer"
                                    [class.is-invalid]="resetCode2.invalid && resetCode2.touched" #resetCode2="ngModel"
                                    required>
                            </div>
                            <div class="col-md-1">
                                <input type="text" style="text-align: center;" maxlength="1"
                                    [(ngModel)]="_passwordData.resetCode3" name="resetCode3"
                                    class="form-control rounded-5 form-fixer"
                                    [class.is-invalid]="resetCode3.invalid && resetCode3.touched" #resetCode3="ngModel"
                                    required>
                            </div>
                            <div class="col-md-1">
                                <input type="text" style="text-align: center;" maxlength="1"
                                    [(ngModel)]="_passwordData.resetCode4" name="resetCode4"
                                    class="form-control rounded-5 form-fixer"
                                    [class.is-invalid]="resetCode4.invalid && resetCode4.touched" #resetCode4="ngModel"
                                    required>
                            </div>
                            <div class="col-md-1">
                                <input type="text" style="text-align: center;" maxlength="1"
                                    [(ngModel)]="_passwordData.resetCode5" name="resetCode5"
                                    class="form-control rounded-5 form-fixer"
                                    [class.is-invalid]="resetCode5.invalid && resetCode5.touched" #resetCode5="ngModel"
                                    required>
                            </div>
                            <div class="col-md-1">
                                <input type="text" style="text-align: center;" maxlength="1"
                                    [(ngModel)]="_passwordData.resetCode6" name="resetCode6"
                                    class="form-control rounded-5 form-fixer"
                                    [class.is-invalid]="resetCode6.invalid && resetCode6.touched" #resetCode6="ngModel"
                                    required>
                            </div>
                        </div>
                    
                    <!-- <small  class="text-primary">
                                <a class="text" (click)="doSomething" style="cursor:pointer">Gerar novo código</a>
                            </small> -->
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-sm-6">
                            <label for="uname1">Nova Senha</label>
                            <input type="password" [(ngModel)]="_passwordData.password" name="password"
                                class="form-control rounded-0"
                                pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&].{8,}"
                                appPasswordValidator="password"
                                [class.is-invalid]="password.invalid && password.touched" #password="ngModel" required
                                triggers="focus:blur" placement="left" ngbTooltip="Senha deve conter pelo menos: 
                                    1 Letra maiúscula, 
                                    1 Letra minúscula, 
                                    1 Caracter especial,  
                                    1 Número, 
                                    no mínimo 8 dígitos">
                            <div class="md-errors-spacer" [hidden]="password.valid || password.untouched">
                                <small class="text-danger" *ngIf="password.errors && password.errors.required">
                                    senha obrigatória
                                </small>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label for="uname1">Confirme sua senha</label>
                            <input type="password" [(ngModel)]="_passwordData.confirmedPassword"
                                name="confirmedPassword" class="form-control rounded-0"
                                [class.is-invalid]="confirmedPassword.invalid && confirmedPassword.touched"
                                #confirmedPassword="ngModel" appConfirmEqualValidator="password" required>
                            <div class="md-errors-spacer"
                                [hidden]="confirmedPassword.valid || confirmedPassword.untouched">
                                <small class="text-danger"
                                    *ngIf="confirmedPassword.errors && confirmedPassword.errors.required">
                                    confirmação de senha obrigatória
                                </small>
                            </div>
                            <div class="md-errors-spacer"
                                [hidden]="confirmedPassword.valid || confirmedPassword.untouched">
                                <small class="text-danger"
                                    *ngIf="confirmedPassword.errors && confirmedPassword.errors?.notEqual">
                                    confirmação de senha incorreta
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="row">
                   
                    <div class="col">
                        <button [disabled]="registerForm.form.invalid " type="submit" (click)="updateUser()"
                            class="btn btn-rainti btn-block">Confirmar</button>
                    </div>
                </div>


            </form>
        </div>
    </div>
    <!-- /form card login -->
</div>