<div class="card shadow rounded" style="padding: 30px">
  <div class="row justify-content-lg align-items-center">
    <div class="col">
      <h1>Bilhetagem de transações</h1>
    </div>
  </div>
  <hr />
  <div style="padding-top: 10px; height: 650px; white-space: nowrap;"> 
    <form #form="ngForm"> 

      
        <div class="d-flex flex-row-reverse bd-highlight p-2 bd-highlight d-inline-block">
        <div class="ml-1">
          <button class="btn btn-sm  btn-rainti"  (click)="exportAsXLSX()"> Exportar XLS <fa-icon
            [icon]="['fas', 'file-excel']"></fa-icon></button>
        </div>
        <div>
          <button class="btn btn-sm  btn-rainti" (click)="downloadFile()"> Exportar CSV <fa-icon
            [icon]="['fas', 'file-excel']"></fa-icon></button>
        </div>
      </div>
  
      <div class="row"> 
        <div class="col-sm-6 d-inline-block">
          <div class="form-group panel panel-primary filterable d-inline-block px-2" *ngIf="filter=='comFiltros'">
            <strong>Detran</strong>
            <select class="form-control form-control-sm" name="Detran" [(ngModel)]="Detran">
              <option value="">Todos</option>
              <option *ngFor="let Detran of detranList" [value]="Detran">{{ Detran }}</option>
            </select>
          </div>
    
          <div class="form-group  panel panel-primary filterable d-inline-block" *ngIf="filter=='comFiltros'">
            <strong>Gestora</strong>
            <select class="form-control form-control-sm" name="Gestora" [(ngModel)]="Gestora">
              <option value="">Todos</option>
              <option *ngFor="let Gestora of gestoraList" [value]="Gestora">{{ Gestora }}</option>
            </select>
          </div>
        </div>
      
        <!-- <div class="form-group" class="col-md-auto" *ngFor="let gestor of gestoraList.get('gestoraList').controls; let i = index">
            
              <label class="btn btn-outline-rainti" >
                  <input type="checkbox" formArrayName="gestoraList" [formControlName]="i"> {{ gestor }}
              </label>
            
          </div>
        
          <div class="form-group" class="col-sm-6">
            <label>Data de</label>
            <input type="date" [(ngModel)]="dataDe" name="dataD" class="form-control rounded-0" 
            #dataD="ngModel" >
          </div>
        
        <div class="form-group" class="col-sm-6">
          <label>Data até</label>
          <input type="date" [(ngModel)]="dataAte" name="dataA" class="form-control rounded-0" 
          #dataA="ngModel" >
          </div> -->
  
  
  
        <div class="col-6 d-inline-block ">
          <div *ngIf="filter=='semFiltros'" class="d-flex flex-row-reverse bd-highlight p-2 bd-highlight d-inline-block">
            <button class="btn btn-sm  btn-rainti" (click)="markAsActive('comFiltros')"> Filtro <fa-icon
                [icon]="['fas', 'filter']"></fa-icon></button>
          </div>
          <div *ngIf="filter=='comFiltros'" class="d-flex flex-row-reverse bd-highlight p-2 bd-highlight d-inline-block">
            <button class="btn btn-sm  btn-rainti" (click)="markAsActive('semFiltros')"> Apagar <fa-icon
                [icon]="['fas', 'ban']"></fa-icon></button>
          </div>
        </div>
      </div>
    
        <table class="table table-hover">
          <thead class="bg-rainti text-light font-weight-lighter">
    
            <th>Contrato</th>
            <th>Gestora</th>
            <th>Credora</th>
            <th>Chassi</th>
            <th>Detran</th>
            <th>Taxa</th>
            <th>Data</th>
            <th>Status</th>
            <br>
          </thead>
    
          <tbody>
            <tr
              *ngFor="let dataTransactionBillings of dataTransactionBilling | tableFilter: form.value | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize">
    
              <td>{{ dataTransactionBillings.Contrato }}</td>
              <td>{{ dataTransactionBillings.Gestora }}</td>
              <td>{{ dataTransactionBillings.Credora }}</td>
              <td>{{ dataTransactionBillings.Chassi }}</td>
              <td>{{ dataTransactionBillings.Detran }}</td>
              <td>{{ dataTransactionBillings.Taxa }}</td>
              <td>{{ dataTransactionBillings.Data }}</td>
              <td>{{ dataTransactionBillings.Status }}</td>
            </tr>
    
          </tbody>
    
        </table>
        <div class="d-flex flex-row-reverse bd-highlight p-2 bd-highlight">
          <ngb-pagination [collectionSize]="dataTransactionBilling.length" [(page)]="page" [maxSize]="5" [rotate]="true"
            [ellipses]="false" [boundaryLinks]="true"></ngb-pagination>
        </div>
    </form>
    <hr />
    <div class="col" class="text-right">
      <h4>Total: R$ {{registro}}</h4>
    </div>
  </div>
</div>